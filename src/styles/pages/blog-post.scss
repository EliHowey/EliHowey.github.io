/*
	blog-post.scss
	Blog post styling
	Written by Eli Howey
	Copyright 2019
*/

@import '../shared';

main {
	max-width: $max-page-width;
	padding-bottom: $grid-gap;
}

article {
	max-width: 65ch; // For readability
	margin: auto;

	// Article endmark
	&::after {
		box-sizing: content-box;
		display: block;
		height: 1rem;
		width: 1rem;
		margin: 2rem auto;
		content: '';
		border: 1px solid $black;
		background-color: $white;
		box-shadow: 4px 4px var(--accent-secondary), 5px 5px $black,
			8px 8px var(--accent-primary), 9px 9px $black;
	}
}

/* Progress Bar */
@mixin progress-bar-colors {
	background-color: var(--accent-primary);
	box-shadow: 0 1px 2px adjust-color($color: $gray--light, $alpha: -0.5);
}

progress {
	appearance: none;
	border: unset;
	background-color: transparent;
	color: var(--on-background);

	&::-webkit-progress-bar {
		background-color: transparent;
	}

	&::-webkit-progress-value {
		@include progress-bar-colors();
	}

	&::-moz-progress-bar {
		@include progress-bar-colors();
	}

	&[is='blog-post-progress-bar'] {
		position: fixed;
		top: 0;
		left: 0;
		height: 5px;
		width: 100vw;
	}
}

blog-post-length::before {
	content: 'â€¢';
	padding: 0 1ch;
}

/* Heading Links */
.heading-permalink {
	background: none;
	margin-left: 0.25em;

	svg {
		display: inline-block;
		height: 0.75em;
		width: 0.75em;
		vertical-align: baseline;
		stroke: currentColor;
		fill: currentColor;
	}

	@media (hover: hover) {
		visibility: hidden;
		opacity: 0;
		transition: opacity 100ms linear;

		:hover > & {
			visibility: visible;
			opacity: 1;
		}
	}
}

/* Tags */

.tags {
	display: flex;
	align-items: baseline;

	> :first-child {
		margin-right: 1ch;
	}
}

.tag-list {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
}

.tag {
	margin: 0 0.25em 0.25em 0;
	font-family: sans-serif;
	font-size: var(--size-down-2);
	line-height: 1;
	padding: 0.1em 0.25em;
	border: 1px solid var(--on-background);
	border-radius: 0.25em;
}
